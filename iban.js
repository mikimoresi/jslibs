(function(d,f){"function"===typeof define&&define.amd?define(["exports"],f):"object"===typeof exports&&"string"!==typeof exports.nodeName?f(exports):f(d.IBAN={})})(this,function(d){function f(a){a=a.toUpperCase();a=a.substr(4)+a.substr(0,4);return a.split("").map(function(a){var b=a.charCodeAt(0);return 65<=b&&90>=b?b-65+10:a}).join("")}function h(a){for(var b;2<a.length;)b=a.slice(0,9),a=parseInt(b,10)%97+a.slice(b.length);return parseInt(a,10)%97}function m(a){a=a.match(/(.{3})/g).map(function(a){var b=
a.slice(0,1);a=parseInt(a.slice(1),10);switch(b){case "A":var c="0-9A-Za-z";break;case "B":c="0-9A-Z";break;case "C":c="A-Za-z";break;case "F":c="0-9";break;case "L":c="a-z";break;case "U":c="A-Z";break;case "W":c="0-9a-z"}return"(["+c+"]{"+a+"})"});return new RegExp("^"+a.join("")+"$")}function e(a){return a.replace(n,"").toUpperCase()}function a(a,b,l,d){this.countryCode=a;this.length=b;this.structure=l;this.example=d}function b(a){g[a.countryCode]=a}function k(a){return"string"==typeof a||a instanceof
String}Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw new TypeError;for(var d=Array(c),f=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)e in b&&(d[e]=a.call(f,b[e],e,b));return d});a.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=m(this.structure))};a.prototype.isValid=function(a){return this.length==a.length&&this.countryCode===a.slice(0,2)&&this._regex().test(a.slice(4))&&
1==h(f(a))};a.prototype.toBBAN=function(a,b){return this._regex().exec(a.slice(4)).slice(1).join(b)};a.prototype.fromBBAN=function(a){if(!this.isValidBBAN(a))throw Error("Invalid BBAN");var b=("0"+(98-h(f(this.countryCode+"00"+a)))).slice(-2);return this.countryCode+b+a};a.prototype.isValidBBAN=function(a){return this.length-4==a.length&&this._regex().test(a)};var g={};b(new a("AD",24,"F04F04A12","AD1200012030200359100100"));b(new a("AE",23,"F03F16","AE070331234567890123456"));b(new a("AL",28,"F08A16",
"AL47212110090000000235698741"));b(new a("AT",20,"F05F11","AT611904300234573201"));b(new a("AZ",28,"U04A20","AZ21NABZ00000000137010001944"));b(new a("BA",20,"F03F03F08F02","BA391290079401028494"));b(new a("BE",16,"F03F07F02","BE68539007547034"));b(new a("BG",22,"U04F04F02A08","BG80BNBG96611020345678"));b(new a("BH",22,"U04A14","BH67BMAG00001299123456"));b(new a("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1"));b(new a("CH",21,"F05A12","CH9300762011623852957"));b(new a("CR",22,"F04F14","CR72012300000171549015"));
b(new a("CY",28,"F03F05A16","CY17002001280000001200527600"));b(new a("CZ",24,"F04F06F10","CZ6508000000192000145399"));b(new a("DE",22,"F08F10","DE89370400440532013000"));b(new a("DK",18,"F04F09F01","DK5000400440116243"));b(new a("DO",28,"U04F20","DO28BAGR00000001212453611324"));b(new a("EE",20,"F02F02F11F01","EE382200221020145685"));b(new a("ES",24,"F04F04F01F01F10","ES9121000418450200051332"));b(new a("FI",18,"F06F07F01","FI2112345600000785"));b(new a("FO",18,"F04F09F01","FO6264600001631634"));b(new a("FR",
27,"F05F05A11F02","FR1420041010050500013M02606"));b(new a("GB",22,"U04F06F08","GB29NWBK60161331926819"));b(new a("GE",22,"U02F16","GE29NB0000000101904917"));b(new a("GI",23,"U04A15","GI75NWBK000000007099453"));b(new a("GL",18,"F04F09F01","GL8964710001000206"));b(new a("GR",27,"F03F04A16","GR1601101250000000012300695"));b(new a("GT",28,"A04A20","GT82TRAJ01020000001210029690"));b(new a("HR",21,"F07F10","HR1210010051863000160"));b(new a("HU",28,"F03F04F01F15F01","HU42117730161111101800000000"));b(new a("IE",
22,"U04F06F08","IE29AIBK93115212345678"));b(new a("IL",23,"F03F03F13","IL620108000000099999999"));b(new a("IS",26,"F04F02F06F10","IS140159260076545510730339"));b(new a("IT",27,"U01F05F05A12","IT60X0542811101000000123456"));b(new a("KW",30,"U04A22","KW81CBKU0000000000001234560101"));b(new a("KZ",20,"F03A13","KZ86125KZT5004100100"));b(new a("LB",28,"F04A20","LB62099900000001001901229114"));b(new a("LC",32,"U04F24","LC07HEMM000100010012001200013015"));b(new a("LI",21,"F05A12","LI21088100002324013AA"));
b(new a("LT",20,"F05F11","LT121000011101001000"));b(new a("LU",20,"F03A13","LU280019400644750000"));b(new a("LV",21,"U04A13","LV80BANK0000435195001"));b(new a("MC",27,"F05F05A11F02","MC5811222000010123456789030"));b(new a("MD",24,"U02A18","MD24AG000225100013104168"));b(new a("ME",22,"F03F13F02","ME25505000012345678951"));b(new a("MK",19,"F03A10F02","MK07250120000058984"));b(new a("MR",27,"F05F05F11F02","MR1300020001010000123456753"));b(new a("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S"));
b(new a("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR"));b(new a("NL",18,"U04F10","NL91ABNA0417164300"));b(new a("NO",15,"F04F06F01","NO9386011117947"));b(new a("PK",24,"U04A16","PK36SCBL0000001123456702"));b(new a("PL",28,"F08F16","PL61109010140000071219812874"));b(new a("PS",29,"U04A21","PS92PALS000000000400123456702"));b(new a("PT",25,"F04F04F11F02","PT50000201231234567890154"));b(new a("RO",24,"U04A16","RO49AAAA1B31007593840000"));b(new a("RS",22,"F03F13F02","RS35260005601001611379"));
b(new a("SA",24,"F02A18","SA0380000000608010167519"));b(new a("SE",24,"F03F16F01","SE4550000000058398257466"));b(new a("SI",19,"F05F08F02","SI56263300012039086"));b(new a("SK",24,"F04F06F10","SK3112000000198742637541"));b(new a("SM",27,"U01F05F05A12","SM86U0322509800000000270100"));b(new a("ST",25,"F08F11F02","ST68000100010051845310112"));b(new a("TL",23,"F03F14F02","TL380080012345678910157"));b(new a("TN",24,"F02F03F13F02","TN5910006035183598478831"));b(new a("TR",26,"F05F01A16","TR330006100519786457841326"));
b(new a("VG",24,"U04F16","VG96VPVG0000012345678901"));b(new a("XK",20,"F04F10F02","XK051212012345678906"));b(new a("AO",25,"F21","AO69123456789012345678901"));b(new a("BF",27,"F23","BF2312345678901234567890123"));b(new a("BI",16,"F12","BI41123456789012"));b(new a("BJ",28,"F24","BJ39123456789012345678901234"));b(new a("CI",28,"U01F23","CI17A12345678901234567890123"));b(new a("CM",27,"F23","CM9012345678901234567890123"));b(new a("CV",25,"F21","CV30123456789012345678901"));b(new a("DZ",24,"F20","DZ8612345678901234567890"));
b(new a("IR",26,"F22","IR861234568790123456789012"));b(new a("JO",30,"A04F22","JO15AAAA1234567890123456789012"));b(new a("MG",27,"F23","MG1812345678901234567890123"));b(new a("ML",28,"U01F23","ML15A12345678901234567890123"));b(new a("MZ",25,"F21","MZ25123456789012345678901"));b(new a("QA",29,"U04A21","QA30AAAA123456789012345678901"));b(new a("SN",28,"U01F23","SN52A12345678901234567890123"));b(new a("UA",29,"F25","UA511234567890123456789012345"));var n=/[^a-zA-Z0-9]/g,p=/(.{4})(?!$)/g;d.isValid=function(a){if(!k(a))return!1;
a=e(a);var b=g[a.slice(0,2)];return!!b&&b.isValid(a)};d.toBBAN=function(a,b){"undefined"==typeof b&&(b=" ");a=e(a);var c=g[a.slice(0,2)];if(!c)throw Error("No country with code "+a.slice(0,2));return c.toBBAN(a,b)};d.fromBBAN=function(a,b){var c=g[a];if(!c)throw Error("No country with code "+a);return c.fromBBAN(e(b))};d.isValidBBAN=function(a,b){if(!k(b))return!1;var c=g[a];return c&&c.isValidBBAN(e(b))};d.printFormat=function(a,b){"undefined"==typeof b&&(b=" ");return e(a).replace(p,"$1"+b)};d.electronicFormat=
e;d.countries=g});